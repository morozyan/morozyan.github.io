<!doctype html>
<html lang="en">
  <head>
    <link href="https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.css" rel="stylesheet">
    <script src="https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.js"></script>    
    <style>
      body { margin: 0; padding: 0; }
      html,body, #map { height: 100%; width: 100%; }
    </style>
  </head>
  <body>
    <div id="map"></div>
    <script>
    	mapboxgl.accessToken = 'pk.eyJ1IjoibW9yb3p5YW4iLCJhIjoiY2xtbG9pejdkMGN0dzJqbXd2bTVzZzVoaSJ9.jYAn1Xi2o3bZ20bpohSbdg';
      const map = new mapboxgl.Map({
      container: 'map', // container ID
        // Choose from Mapbox's core styles, or make your own style with Mapbox Studio
        style: 'mapbox://styles/mapbox/streets-v12', // style URL
        center: [-103.34872062829716, 20.672494028475253], // starting position [lng, lat]
        zoom: 11 // starting zoom
      });
      map.on('click', (e) => {
        console.log(`A click event has occurred at ${e.lngLat}`);
      });

      let areas = [{
        id: "plazapatria",
        coordinates: [
              [-103.38094229455533, 20.712137596424895],
              [-103.37748397346442, 20.713730298267123],
              [-103.3749496312911, 20.712137596424895],
              [-103.38024271051786, 20.711174559282696],
            ]  
      },{
        id: "ParqueGeneralLuisQuintanar",
        coordinates: [
          [-103.27575688306194, 20.65986816465319],
          [-103.26981008778002, 20.659127031761784],
          [-103.26981008778002, 20.659668176768903],
          [-103.2703255605211, 20.661279836350914],
          [-103.27046385439796, 20.665655933833918],
          [-103.2699556925853, 20.6671124228928],
          [-103.27003111963587, 20.671982399869293],
          [-103.26959679283264, 20.673482401592892],
          [-103.26869157240917, 20.675529137812603],
          [-103.2678114969973, 20.675740867570525],
          [-103.26591304860922, 20.677281780806112],
          [-103.2647438055624, 20.675223305417873],
          [-103.26479409558596, 20.674094072778914],
          [-103.26410269299814, 20.671682641993243],
          [-103.26419070053926, 20.670353409205433],
          [-103.26419070053926, 20.669976987186757],
          [-103.26377580784526, 20.668471289782985],
          [-103.26401468545701, 20.667741962236548],
          [-103.26440443313906, 20.66745964095577],
          [-103.26538511032865, 20.66714202745497],
          [-103.26569942297556, 20.66694204914559],
          [-103.26756015384605, 20.664354070802574],
          [-103.26774874143425, 20.664012924913607],
          [-103.26782418689703, 20.66170722526539],
          [-103.26810078202635, 20.660072042278955],
          [-103.26810078202635, 20.659589718756735],
          [-103.26757275311456, 20.657269641701717],
          [-103.26752246309137, 20.656493203401112],
          [-103.27011239930275, 20.656599081584616],
          [-103.26983580417341, 20.657422576051076],
          [-103.26981065916148, 20.658963675134018],
          [-103.27589023061765, 20.65972957499585],
         ]  
      }
        
      ]
      /*{
        id: "",
        coordinates: []  
      }*/
      map.on('load', () => {

        areas.forEach(area =>{
        // Add a data source containing GeoJSON data.
        map.addSource(area.id, {
          'type': 'geojson',
          'data': {
          'type': 'Feature',
          'geometry': {
            'type': 'Polygon',
            // These coordinates outline Maine.
            'coordinates': [ area.coordinates ]
          }
          }
        });
         
        // Add a new layer to visualize the polygon.
        map.addLayer({
          'id': area.id,
          'type': 'fill',
          'source': area.id, // reference the data source
          'layout': {},
          'paint': {
          'fill-color': '#805d47', 
          'fill-opacity': 0.5
          }
        });
          
        })
        
        });
    </script>
  </body>
</html>
